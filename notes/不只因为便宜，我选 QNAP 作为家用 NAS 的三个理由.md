---
tags: [GitHub]
title: 不只因为便宜，我选 QNAP 作为家用 NAS 的三个理由
created: '2019-09-04T07:56:34.815Z'
modified: '2019-09-04T07:56:47.167Z'
---

# 不只因为便宜，我选 QNAP 作为家用 NAS 的三个理由

07月30日

 [![](https://cdn.sspai.com/attachment/origin/2016/08/31/345261.jpg?imageMogr2/quality/95/thumbnail/!60x60r/gravity/Center/crop/60x60)](https://sspai.com/user/715597/updates)

#### [广陵止息](https://sspai.com/user/715597/updates)

目录

1.  [更灵活的空间分配机制](javascript:;)
2.  [更快速的备份与恢复](javascript:;)
3.  [更轻松的文件索引与管理](javascript:;)

购买一台 NAS 一直是我的需求。

作为图形平面设计师，每一次工程的图形和视频数据体积都不会小，久而久之我的数据量也膨胀到了 TB 级别，加上父母也有一定的文档存储和照片备份需求，回国以后购买一台 NAS 成了当务之急。

一番对比之后，我最终在群晖和 QNAP 之间选择了搭载 Intel 处理器且价格便宜不少的后者，而使用一段时间后我还发现，QNAP 的系统其实也是一大亮点 —— 它不仅功能灵活可控，设计细节也处处充满着人性化的考量。

![](https://cdn.sspai.com/2019/07/14/08c07153bb86c0712ddf5ee5b0fb359b.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1)

QTS 主界面

无论我如何使用，这个系统都能变成所希望的那个样子。

**关联阅读：**[群晖 NAS 选购 & 入门指南：动手打造自己的家庭数据中心](https://sspai.com/post/55785)

## 更灵活的空间分配机制

作为一台 NAS，最核心的功能就是为用户提供大量存储空间。QNAP 和群晖都可以将多个磁盘利用 [RAID 手段](https://baike.baidu.com/item/RAID%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97) 组合起来，统合成几个更大更高效的存储池。对比群晖只能在存储池里新建固定大小的卷，QNAP 则还可以通过多种逻辑卷（类似于 Windows 里的分区）的组合，让空间在多个卷之间共享。

QNAP 支持三种逻辑卷：

**首先是静态卷，**与群晖的「更好性能的存储池」类似，直接建立在 RAID 上。性能更好，但是不支持快照等高级特性。

**其次是厚卷，**为预先分配好存储尺寸的卷，与静态卷类似，需要占据固定尺寸的存储空间。具有优秀的稳定性的同时，厚卷可以创建快照（下文将会展开详细描述）、变动体积，还可以转换成下述的精简卷。

**最后是精简卷，**可以根据写入的数据的大小动态地收缩、扩展卷的尺寸，将未使用的空间回收释放。精简卷没有最大空间限制，也同样支持创建快照和其他高级特性。

![](https://cdn.sspai.com/2019/07/30/0389407bafa2de375f752a6b3581798e.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1)

存储架构示意图

在这三种逻辑卷当中，除了静态卷会单独占据一个存储池，多个厚卷和精简卷都可以共存在一个存储池上。在实际应用的过程中，我们可以综合利用三种卷的特性来因地制宜地利用存储空间。

以开头的需求为例。在给父母划分了一块存储区域以后，这硕大的空间并不会被立刻塞满，而他们的文档也并不需要非常优秀的读写性能，因此选择精简卷来动态分配存储空间是一个更明智的选择；而对我来说，首要需求是对工程数据进行版本控制，更适合用厚卷来固定住一块存储空间，这样不仅能够有效控制文件体积，还能兼有快照功能（这个后面会提到）。

![](https://cdn.sspai.com/2019/07/16/c9c351c5be2bd6f0e9536af1deeed1c1.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1)

新建区块式的 LUN

除了「卷」以外，NAS 内部还可以建立不同的 LUN。LUN，也就是大家所熟知的 [逻辑单元](https://baike.baidu.com/item/%E9%80%BB%E8%BE%91%E5%8D%95%E5%85%83) 号，使用逻辑单元号的优势是显而易见的——通过更为底层的协议与电脑通信，甚至让电脑误认为 NAS 就是一块直接插在自己身上的物理硬盘，比起普通的分享方式能获得更好的性能和解锁更多的高级特性。

除了支持较为常见的、在卷基础上建立的文件级别 LUN，QNAP 还支持了更为底层的、在存储池上直接建立的**区块级别的 LUN**。区块级别的 LUN 以区块的方式分配存储空间，接入到电脑以后不带有任何的文件系统，**用户可以根据自身设备取向自行选择更常用的 NTFS 或是 HFS+**。

![](https://cdn.sspai.com/2019/07/16/12477b0699402881a579a1550cb509eb.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1)

精简卷未使用的时候不占用空间

对比之下文件级别的 LUN 则只能依托 NAS 本身的文件系统，对于 QNAP 来说就只能使用看重兼容性的 ext4，无法针对电脑系统提供专门的适配。

![](https://cdn.sspai.com/2019/07/14/279735a8a4deb0bdc48bd8fea3aab986.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1)

存储与快照主界面

除了可以自定义文件系统，区块级别的 LUN 另一个优点是可以像真的硬盘一样支持虚拟机的创建。考虑到在 NAS 上使用虚拟机是一个较为常见的需求，这一特性便尤为可贵，不仅免去了挤占电脑宝贵空间的问题，还可以让虚拟机运行在本地不同的电脑上。

最后，LUN 也和卷一样，也可以选择进行厚分配和精简分配，特性也与卷类似，可供用户按需搭配使用。如果这样说比较抽象，这里就以「精简分配的 LUN 」为例，在同一个存储池里先映射了一块使用精简分配的 LUN 到电脑本地用作专门存放游戏的游戏盘，又映射了一块使用精简分配的 LUN 到电脑专门存放工程素材，这两块 LUN 就会互相共享空间，此消彼长，此长彼消。

卷和 LUN 互相搭配，发挥 NAS 存储空间的所有可用特性；三种逻辑分配按需制宜，尽量避免硬盘空间的闲置和浪费。双管齐下，QNAP 的这些功能可以让用户充分利用硬盘的每一寸空间。

## 更快速的备份与恢复

快照可以理解为给某一时刻的系统数据「拍个照」。

相比我们平时使用的复制备份，快照照占据的空间更少、恢复起来更快。作为最简单快速的数据还原手段，快照是群晖和 QNAP 必备的基础功能：自动计划快照、直接查看快照内容，将快照复制到另一台 NAS …… **但在我看来， QNAP 的快照技术在我看来更胜一筹**。

首先是在还原文件夹时，能比常规快照更快的速度恢复。

我们需要做的就是新建一个快照共享文件夹，快照共享文件夹在恢复快照时会选择直接加载快照。经过我的测试，500G 的文件夹除了第一次恢复需要约 10 分钟，后续几乎都只要 1 分钟左右，恢复起来简直神速。特别适合协作工作和整机备份。

![](https://cdn.sspai.com/2019/07/14/07f83c976ecebfe0bca88e3adb63e2dd.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1)

快照系统

同时，与群晖只能给文件夹快照不同， QNAP 可以对所有它支持的卷和 LUN  进行快照。

![](https://cdn.sspai.com/2019/07/14/e4a274b04ccfc0d4284b2d8988af45cc.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1)

自动快照

这意味着快照对数据的保护不再局限于单个文件夹，而是所有用户存放在卷和 LUN 中的数据。同样映射一个 LUN 到电脑上存放重要的后期素材，如果是群晖的 NAS，那么我还需要其他备份工具对这些素材进行备份，而在 QNAP 上我只需要通过「快照管理员」面板开启计划快照即可，极大地简化了备份、快照保护数据的步骤。

## 更轻松的文件索引与管理

随着 NAS 里存放的文件越来越多，想要快速找到其中某一个文件，搜索索引功能可能是最为快捷的途径。让我松了一口气的是，QNAP 的 Qsirch 功能做得相当不错。

![](https://cdn.sspai.com/2019/07/16/7deb51985898807aad6b43dec90e6833.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1)

图片来自官网

和群晖需要手动添加文件到索引里不同，QNAP Qsirch 会自动默认添加所有的文件夹到索引里，用户并不需要大费周章就可以享受接近完美的搜索体验。搜索文件时，QNAP Qsirch 不仅能通过名称、文件类型、作者、内容等元数据进行搜索，还支持对图片的颜色进行索引和对文档进行 OCR 索引。

![](https://cdn.sspai.com/2019/07/16/8aca0fbe2d3e53f91657b2f52e182400.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1)

Qsirch 搜索主界面

**根据图片颜色进行搜索是 Qsirch 的一大亮点**，在网上收集各种的图片素材，有时候我可能只是记得一个大概的色彩分布，通过色彩查询就免去了一次次大海捞针。

支持对文档进行 OCR 索引则是另一个贴心设计，能够有效解决 PDF 制作不规范而导致无法搜索的问题。在搜索文件时，Qsirch 还会根据选中的文件智能推荐相似的文件。

Qsirch 不仅活跃在 NAS 的网页端，用户也可以通过配套的 app、浏览器插件、访达插件使用。

![](https://cdn.sspai.com/2019/07/14/1e118d535078d3bb81653c7cd769739b.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1)

Qfiling 自动归档文件

创建好的索引除了改善用户的搜索体验，它还能帮助我自动整理文件。

在整理大量文件的时候，手动进行这个过程，对我来说无疑是枯燥又无趣的，而通过 Qfiling 可以简单的快速完成归档，我需要做的只是提前设定好需要的规则和目的地，剩下的就可以交给 Qfiling 去忙了。在归档的过程中还可以使用文件编辑模块，一次性完成转码、加密、压缩的任务，非常方便。

## 小结

除去上述所说的特性，QNAP 还支持：

*   IFTTT 的支持：让你轻松的构建外部自动化流程，大幅度减少充分机械性的手动任务。
*   Qtier：使用 SSD 进行分层存储，让 SSD 不在只当缓存空间。
*   QuDedup: 备份时剔除备份内容里的重复数据。
*   Qsync：快速在 NAS 里搭建一个个人云盘。

以上便是为什么我选择 QNAP 的主要原因，加上非常人性化的功能设计和帮助提示，即使是作为新手也无需担心上手难度的问题。

如果你对 QNAP 感兴趣，我将在下一篇文章里讲述如何挑选适合自己的 QNAP NAS 和对应的硬盘，以及一些 NAS 使用上的细节注意点。

[不只因为便宜，我选 QNAP 作为家用 NAS 的三个理由 - 少数派](https://sspai.com/post/55948)
